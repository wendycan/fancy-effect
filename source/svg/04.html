<!DOCTYPE html>
<html>

<head>
  <title>坐标系变换</title>
  <style>
    body {
    width: 920px;
    margin: 30px auto;
    }
    svg {
      fill: none;
      stroke: green;
      stroke-width: 5;
      border: solid 1px #d5d5d5;
    }
  </style>
</head>

<body>
  <svg xmlns="http://www.w3.org/2000/svg" width="500" height="500" viewBox="0 0 1000 1000">
    <!-- Translate -->
    <g id="house">
      <polyline points="300,100 200,200 400,200 300,100"></polyline>
      <polyline points="200,200 200,400 400,400 400,200"></polyline>
      <rect x="330" y="320" width="30" height="80"></rect>
    </g>
    <use xlink:href="#house" stroke="blue" transform="translate(300,0)"></use>

    <!-- Scale: stroke-width -->
    <rect x="10" y="10" width="50" height="50" id="rect" stroke-width="6"></rect>
    <use xlink:href="#rect" stroke="blue" transform="scale(3)"></use>

    <!-- <use xlink:href="#rect" stroke="blue" transform="scale(3)" stroke-width="0.33"></use>
    <use xlink:href="#rect" stroke="blue" transform="scale(3, 1.5)"></use> -->

    <rect x="10" y="250" width="150" height="150" stroke-width="18"></rect>
    <line x1="10" y1="500" x2="300" y2="500"></line>
    <line x1="10" y1="500" x2="10" y2="700"></line>

    <!-- Order -->
    <rect x="10" y="500" width="100" height="100" fill="yellow"></rect>

    <g transform="translate(50,50)">
      <g transform="scale(1.5)">
        <rect x="10" y="500" width="100" height="100" fill="yellow"></rect>
      </g>
    </g>

    <line x1="65" y1="800" x2="300" y2="800" stroke="purple"></line>
    <line x1="65" y1="800" x2="65" y2="1000" stroke="purple"></line>

    <g transform="scale(1.5)">
      <g transform="translate(50, 50)">
        <rect x="10" y="500" width="100" height="100" fill="yellow"></rect>
      </g>
    </g>
    <line x1="90" y1="825" x2="300" y2="825"></line>
    <line x1="90" y1="825" x2="90" y2="1000"></line>

  </svg>
  <svg xmlns="http://www.w3.org/2000/svg" width="500" height="500" viewBox="0 0 500 500">
    <!-- Rotate: center -->
    <defs>
      <rect x="100" y="100" width="100" height="100" id="square"></rect>
    </defs>
    <g id="rotate-square">
      <use xlink:href="#square" stroke="orange"></use>
    </g>

    <!-- Skew -->
    <rect x="0" y="0" width="100" height="100" stroke="gray"></rect>
    <g transform="skewX(45)">
      <line x1="0" y1="0" x2="100" y2="0" stroke="purple"></line>
      <line x1="0" y1="0" x2="100" y2="100" stroke="purple"></line>
    <g>
  </svg>
</body>

<script type="text/javascript">
  window.addEventListener('load', function () {
    var angle = 0;
    var el = document.querySelector('#rotate-square');
    setInterval(function () {
      angle += 5;
      if (angle > 360) {angle=0}
      el.setAttribute('transform', 'rotate(' + angle + ',150,150)');
    }, 100)
  });
</script>
</html>
